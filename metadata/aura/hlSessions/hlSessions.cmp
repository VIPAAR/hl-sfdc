<aura:component controller="HLSessionController" implements="flexipage:availableForRecordHome,force:hasRecordId" access="global">
    
    <aura:attribute name="authInfo" type="Object"/>
    <aura:attribute name="record" type="Object"/>
    <aura:attribute name="recordError" type="String"/>
    <aura:attribute name="calls" type="HLCall__c[]"/>
    
    <aura:handler name="init" action="{!c.doInit}" value="{!this}" />
    
    <force:recordPreview aura:id="recordLoader"
                         recordId="{!v.recordId}"
                         layoutType="FULL"
                         targetRecord="{!v.record}"
                         targetError="{!v.recordError}"
                         recordUpdated="{!c.recordUpdatedEvt}" />
    
    <!-- PAGE HEADER -->
    <div class="slds-page-header" role="banner">
    	<div class="slds-grid">
            <div class="slds-col">
            	<p class="slds-text-heading--label">Help Lightning</p>
                <ui:button label="{!'Call ' + v.record.Contact.Name}"
                           class="slds-button slds-button--brand"
                           press="{!c.clickCall}" />
            </div>
            <div class="slds-col" aura:id="hl-call-details--div">
                <p class="slds-text-heading--label">Call History</p>
                <section class="slds-card__body">
                  <div id="list" class="row">
                    <aura:iteration items="{!v.calls}" var="call">
                      <p>Session: <ui:outputText value="{!call.Session_Id__c}" /> </p>
                      <p>Date: <ui:outputDateTime value="{!call.Start_Time__c}" /> </p>
                    </aura:iteration>
                  </div>
                </section>
            </div>
        </div>
    </div>
    <!-- / PAGE HEADER -->
</aura:component>
